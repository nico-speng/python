# 引入urllib的模块
import urllib.request
import urllib.parse
import json

# 获取url地址
url = 'https://fanyi.baidu.com/v2transapi?from=en&to=zh'

data = {
    'from': 'en',
    'to': 'zh',
    'query': 'super',
    'transtype': 'realtime',
    'simple_means_flag': '3',
    'sign': '452035.132850',
    'token': '6967f63b5abd4408370564fa4ff3cde1',
    'domain': 'common',
}

# post请求的参数 必须要进行编码
data = urllib.parse.urlencode(data).encode('utf-8')

# 模拟浏览器向服务器发送请求
headers = {
    'Cookie': 'BIDUPSID=A04EF79B3962B1CCE0DF9D46820950E0; PSTM=1677650718; BAIDUID=3F91C8996303CF9AD317CDB33F46588F:FG=1; APPGUIDE_10_0_2=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_WISE_SIDS=219946_234927_219623_234020_219558_216848_213363_214806_219943_213029_230172_204913_230288_241994_242233_238267_110085_227870_236307_243884_234436_244719_240590_244955_245411_243706_247130_247805_247978_248356_247777_248725_248793_248228_247629_249181_107311_248312_248251_247451_248124_249764_249813_249488_249759_249909_249982_249123_250148_246093_250180_250123_250295_250558_246613_250738_250852_250888_251311_247510_247461_245919_248082_251624_250535_251132_251415_251838_251819_252122_252261_252245_247671_248078_250759_252581_252600_252570_252560_249892_252577_252945_252976_248584_251150_253020_253044_247585_252991_249491_249501_234295_245042_253064; BAIDUID_BFESS=3F91C8996303CF9AD317CDB33F46588F:FG=1; BA_HECTOR=0k25858lag8g812k0524a46g1i1nd761m; ZFY=EalrgdttHNOxVUi:A:AXGI5vf3Ega5:AXaKVygxKKkKYxo:C; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1678329630,1678433132,1679539280,1679541000; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1679541000; ab_sr=1.0.1_NjhmYmQ2MjIyZTcxOTE2ZDRlZTllZTNkZDI4YTBkYmExOGIwMDEzZjcyMWIxOTcwMWZkYjc1NTJiOTBhODk2NGQ4YTc2MmZmNWI1OTU5MmRjNTk4NTRiNDY5NmVlZTMyMDAwMmMyNTEwNmE1YzI3MmZmMjFmYTRkZjAyZWNmMWE5NmU1Njg1N2VkMjY2NmFmM2QyOTI5ZTc5M2M3MDFiNg==',
    'Referer': 'https://fanyi.baidu.com/?fr=pcPinzhuan',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36',
}

# 定制化请求
# 注意：post的请求参数 是不会拼接在url的后面 而是需要放在请求对象定制的参数中
request = urllib.request.Request(url=url,data=data,headers=headers)

# 模拟浏览器向服务器发送请求
response = urllib.request.urlopen(request)

# 获取响应的数据
# 将str转换成json
content = json.loads(response.read().decode('utf-8'))
print(content)